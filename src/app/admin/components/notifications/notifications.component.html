<div class="flex flex-col h-28 overflow-hidden mt-1 mb-2 mx-4">
  <div class="overflow-y-auto flex-grow custom-scrollbar">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50 sticky top-0 z-10">
        <tr>
          <th scope="col" class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
            De:
          </th>
          <th scope="col" class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
            Asunto
          </th>
          <th scope="col" class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
            Fecha
          </th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <!-- Agrega el evento (click) a la fila y cursor-pointer para mejor UX -->
        <tr *ngFor="let mensaje of mensajes" class="hover:bg-gray-50 cursor-pointer" (click)="openModal(mensaje)">
          <td class="px-3 py-2 whitespace-nowrap text-[0.6rem] text-gray-900 w-[30%]">{{ mensaje.de }}</td>
          <td class="px-3 py-2 text-[0.6rem] text-gray-600 w-[50%] max-w-[50%]">{{mensaje.asunto}}</td>
          <td class="px-3 py-2 whitespace-nowrap text-[0.6rem] text-gray-500 w-[20%]">{{mensaje.fecha}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- --- MODAL DE MENSAJE --- -->
<!-- El modal solo se renderiza si isModalOpen es true -->
<div *ngIf="isModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-sm mx-auto p-6">
    <!-- Encabezado del Modal -->
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-bold text-gray-800">Mensaje de {{ selectedMessage?.de }}</h3>
      <!-- BotÃ³n para cerrar el modal -->
      <button (click)="closeModal()" class="text-gray-400 hover:text-gray-600 text-2xl font-bold leading-none">&times;</button>
    </div>

    <!-- Contenido del Mensaje -->
    <div class="text-sm text-gray-700 mb-4 max-h-48 overflow-y-auto custom-scrollbar-modal">
      <p class="mb-2">
        <span class="font-semibold">Asunto:</span> {{ selectedMessage?.asunto }}
      </p>
      <p class="mb-2">
        <span class="font-semibold">Fecha:</span> {{ selectedMessage?.fecha }}
      </p>
      <p>
        <span class="font-semibold">Mensaje:</span> {{ selectedMessage?.mensaje }}
      </p>
    </div>

    <!-- Pie del Modal -->
    <div class="flex justify-end">
      <button (click)="closeModal()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 text-sm">
        Cerrar
      </button>
    </div>
  </div>
</div>
<!-- --- FIN MODAL DE MENSAJE --- -->

<!-- El bloque <style> que tenÃ­as lo mantendremos en notifications.component.css -->
